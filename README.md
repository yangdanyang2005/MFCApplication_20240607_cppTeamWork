# MFCApplication_20240607_cppTeamWork
大一下 “遥感应用软件设计”课程 C++ MFC 大作业

# 重要提示
如果您直接下载这些代码运行，大概率是无法直接运行的。因为这个项目依赖于作者本人电脑中的MySQL数据库、MATLAB R2024a等相关环境。  

但是如果您能够理解代码中的内容，在修改少量源代码中的参数并配置相关环境后，本项目可以成功运行。  

您可以在互联网上搜索相关配置方法。  

如果对配置方法或代码有疑问，或者想要与作者交流，欢迎联系作者：yangdanyang@whu.edu.com。  

此外，作者时间、精力与能力都有限，若有代码上的问题，可以在Issues中发布，也可以直接通过上述联系方式告知作者。感谢您提出的宝贵意见！  

作者制作不易，欢迎通过“鼓励作者！.jpg”或“鼓励作者！.png”为作者提供支持！(～￣▽￣)～ 


# 软件功能介绍

## 控制点数据处理
- **数据获取**：支持用户手动打开对话框选取/输入路径打开.csv格式的控制点坐标数据文件，并读取所有坐标。
- **数据处理**：提供数据的增删改查等基本操作，其中查找支持单/多关键字任意优先级正/逆序查找（采用两种方式，一种是用C++ 17的函数模板与可变参数实现的，另一种是用C++ 14的lambda表达式和C++ 11的范围for循环实现的）。
- **测量学计算**：能够对控制点进行两点计算，三点计算：求控制点倾斜距离、水平距离、高差、天顶距、高度角、水平角、空间角等测量学数据。
- **可视化工具**：基于反距离加权法(IDW)，通过高斯函数加权对控制点数据进行栅格化并可视化为地形晕渲图。
- **数理统计分析**：新增对x、y、z坐标及其到原点的曼哈顿距离、欧氏距离数据的最大值、最小值、平均值、极差、方差、标准差、中位数、上四分位数、下四分位数、变异系数、偏度、散度等数理统计指标的计算。
  
## 用户交互性
- **账户功能**：设计登录界面与购买账号、激活VIP界面，并支持相应“记住密码”“下次自动登录”等功能。
- **全局状态提示**：在视图中实时显示登录状态、高级账户解锁状态、文件读取状态以及本地MySQL数据库连接状态。
- **导航支持**：提供返回主页的菜单栏，方便用户快速切换至主界面；主视图通过SetTimer方式实时调用系统日期与时间，实现每秒刷新显示；在各种情况下给出对应弹窗提示，增强用户友好性。

## 用户数据处理
- **查询记忆功能**：实现基于外存的查询记忆，便于用户再次访问之前的查询结果。
- **存储路径记忆**：自动记忆文件的存储路径，提升文件管理的便捷性。
- **用户信息记忆**：记住用户名、密码、密钥及文件路径，简化登录流程。
- **登录数据加密存储**：使用凯撒加密算法对堆区数据进行加密（ASCII码偏移量为基于时间戳种子的伪随机值），并以二进制方式保存至相对路径。
 
## 视图保存与展示
- **界面截图保存**：支持将当前视图界面保存为.png文件，提供系统对话框自动命名和编号。
- **存储逻辑支持**：支持“保存”与“另存为”两种模式，支持记忆上一次存储路径，并支持静默覆盖保存，优化用户交互体验。
- **简单视图展示**：能够展示数据的基本视图。

## 对接外部工具
### 数据库同步与操作
- **本地MySQL数据库连接**：支持连接本地MySQL数据库，并与内存数据同步。
- **SQL操作支持**：允许用户对本地MySQL数据库执行增删改操作，支持单/多关键字任意优先级的正/逆序查找。
- **数据交换**：支持将文件中的数据导入数据库、将数据库中的数据覆盖到文件中。
### MATLAB集成
- **MATLAB脚本运行**：通过Windows系统cmd窗口直接运行MATLAB R2024a脚本，实现DEM三维表面的绘制。
- **绘图优化**：支持自由放缩和全景旋转查看DEM，实现等高线和数据点的叠加绘制，增加了色彩条与图例说明。
    
## 系统与软件
- **路径优化**：将数据文件路径优化为相对路径，降低对系统环境的依赖，便于软件的封装与分发。
- **版本与版权信息**：提供软件版本号、版权信息及使用说明。
